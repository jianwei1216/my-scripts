$def with (content)
<style type="text/css">
    #service_auth{
		border: none;
	}
	.ztree li a:hover{
		text-decoration: none;
	}
	.opercommand{
		height: 12px;
		float: none;
		margin-left: 5px;
	}
	#service_auth_head{
		clear: both;
	}
	#service_auth_head_1, #service_auth_head_2, #service_auth_head_3, #service_auth_head_4{
		border-bottom: 1px solid #A6C9E2;
		height: 20px;
		display: inline-block;
		text-algin: bottom;
	    line-height: 20px;
    	margin-bottom: 5px;
    	padding-left: 2px;
    	padding-bottom: 5px;
    	display: inline-block;
	}
    #service_auth_head_1{
        width: 45%;
    }
    #service_auth_head_2{
		width: 10%;
	}
	#service_auth_head_3, #service_auth_head_4 {
        width: 20%;
    }
	.owner {
    	left: 415px;
    	position: absolute;
	}
	.wuser {
    	left: 510px;
    	position: absolute;
	}
	.ruser {
    	left: 689px;
    	position: absolute;
	}

</style>

<SCRIPT type="text/javascript">
    var setting = {
		async: {
			enable: true,
			url: '/clusterserviceauthmanage?' + new Date().getTime(),
			autoParam: ["id","name=n","level=lv","path"],
			otherParam: ["otherParam","zTreeAsyncTest"]
		},
		view:{
			addDiyDom: addDiyDom
		}
	};

	function addDiyDom(treeId, treeNode) {
		var aObj = $(ELT)("#" + treeNode.tId + "_a");
		var tid = treeNode.path.replace(/\//g,'_').replace(/\./g,'_');
		if ($(ELT)("#diyBtn_"+treeNode.name).length>0) return;

		if (treeNode.owner == undefined){
		    var ownerStr = "<span id='owner_space" + tid + "' class='owner' ></span>"
		    var wuserStr = "<span id='wuser_space" + tid + "' class='wuser' ></span>"
		    var ruserStr = "<span id='ruser_space" + tid + "' class='ruser' ></span>"
		    var operStr = "<span id='oper_space" + tid + "' class='oper' ></span>"
		}else{
		    var ownerStr = "<span id='owner_space" + tid + "' class='owner'" + " title='" + treeNode.owner + "'>" + treeNode.owner + "</span>"
			if(treeNode.writeuser.length > 25) {
				var wuserStr = "<span id='wuser_space" + tid + "' class='wuser'" + " title='" + treeNode.writeuser + "'>" + treeNode.writeuser.substr(0, 25) + ' ...' + "</span>"
			}else{
				var wuserStr = "<span id='wuser_space" + tid + "' class='wuser'" + " title='" + treeNode.writeuser + "'>" + treeNode.writeuser + "</span>"
			}
			if(treeNode.readuser.length > 25){
				var ruserStr = "<span id='ruser_space" + tid + "' class='ruser'" + " title='" + treeNode.readuser + "'>" + treeNode.readuser.substr(0,25) + ' ...' + "</span>"
			}else{
				var ruserStr = "<span id='ruser_space" + tid + "' class='ruser'" + " title='" + treeNode.readuser + "'>" + treeNode.readuser + "</span>"

			}
            var operStr = "<span id='oper_space" + tid + "' class='oper' ><dl class='opercommand'><dd><a id='edit" + tid + "' class='ui-icon ui-icon-inline ui-icon-pencil' href='javascript:void(0);' title='$_("edit")' >&nbsp;</a></dd></dl></span>";
		}

		aObj.append(ownerStr);
		aObj.append(wuserStr);
		aObj.append(ruserStr);
		aObj.append(operStr);

		var isNumeric = function(e){
			if (e.shiftKey) return false;
			return (e.keyCode >= 48 && e.keyCode <= 57);
		};

		var bedit = $(ELT)("#edit" + tid);
		if (bedit) bedit.bind('click',function(event){
			custLoading("$_('Loading Data ...')");
			var url = "/clusterserviceauthedit?" + new Date().getTime();
			var eauthdialog = $(ELT)('<div id="eauthdialog" title="$_('clusterserviceauthedit')">').appendTo('body');
			eauthdialog.load(
				url,
				'path='+treeNode.path+'&owner='+treeNode.owner+'&wuser='+treeNode.writeuser+'&ruser='+treeNode.readuser+'&nouser='+treeNode.nouser,
				function (responseText, textStatus, XMLHttpRequest) {
					$(ELT)('#loaddialog').dialog('close');
					eauthdialog.dialog({
						bgiframe: true,
						authOpen: true,
						width: 500,
						modal: true,
						resizable: false,
						buttons: {
							"$_('cancel')": function() {
								$(ELT)(this).dialog('close');
							},
							"$_('save')": function(){
								var clusterauthruser = []
								var clusterauthwuser = []
								$(ELT)('#ruser option').each(function(){clusterauthruser.push($(ELT)(this).val())});
								$(ELT)('#wuser option').each(function(){clusterauthwuser.push($(ELT)(this).val())});
								data = 'clusterauthruser=' + clusterauthruser + '&clusterauthwuser=' + clusterauthwuser + '&path=' + treeNode.path;
								$(ELT).ajax({
									url: url,
									type: 'POST',
									data: data,
									dataType: 'text',
									beforeSend: function(){
										custLoading("$_('settingauthnow')");
									},
									error: function(){
										custAlert("$_('operfail')","Request Error!");
									},
									success: function(text){
										if(isNaN(text)){
											custAlert("$_('operfail')",text);
											$(ELT)("#loaddialog").dialog('close');
										}else{
											if(parseInt(text) == 0){
												$(ELT)("#loaddialog").dialog('close');
												custAlert("$_('opersucc')","$_('clusterserviceauthsetsucc')");
												clusterserviceauthreload(treeNode.getParentNode());
											}else{
												$(ELT)("#loaddialog").dialog('close');
												custAlert("$_('operfail')","$_('operfailinfo')");
											}
										}
									}
								});
								$(ELT)(this).dialog('close');
							}
						},
						close: function(){
							eauthdialog.remove();
						}
					});
				}
			);
		});
	}

	$(ELT)("#clusterservicelistinput").bind("change",function(){
		var service_name = $(ELT)("#clusterservicelistinput").val();
		var zNodes = [{'name':service_name,isParent:"true",'path':'/cluster2/'+service_name}];
		$(ELT).fn.zTree.init($(ELT)("#service_auth"), setting, zNodes);
	})
	var service_name = $(ELT)("#clusterservicelistinput").val();
	var zNodes = [{'name':service_name, isParent:"true",'path':'/cluster2/'+service_name}];
	$(ELT)(function(){
		$(ELT).fn.zTree.init($(ELT)("#service_auth"), setting, zNodes);
	});
	function clusterserviceauthreload(treeNode){
		var treeObj = $(ELT).fn.zTree.getZTreeObj("service_auth");
		treeObj.reAsyncChildNodes(treeNode, "refresh");
	}
</SCRIPT>

<div id='clusterservicelistauth'>
	<div id='clusterservicelist'>
		<label for="clusterservicelistinput" style="float: none;">$_("clusterservicename")</label>
		<select id="clusterservicelistinput" name="clusterservicelistinput" style="width:90px;">
		$for service in content.clusterservice:
			<option>$service['servicename']</option>
		</select>
	</div><br />
	<div id='service_auth_head'>
		<span id='service_auth_head_1'>$_('directory')</span>
		<span id='service_auth_head_2'>$_('owner')</span>
		<span id='service_auth_head_3'>$_('writeuser')</span>
		<span id='service_auth_head_4'>$_('readuser')</span>
	</div>
	<ul id='service_auth' class='ztree'></ul>
</div>
